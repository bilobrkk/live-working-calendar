(this["webpackJsonpcalendar-schedule"]=this["webpackJsonpcalendar-schedule"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),s=a.n(i),l=(a(14),a(15),a(1)),o=a(2),u=a(5),c=a(4),m=a(3);function p(e,t){for(var a=d(e),n=new Array(7),r=0;r<=7;r++){var i=a.getDate()+r,s=a.getMonth(),l=a.getFullYear(),o=new Date(l,s,i);n.fill(o,r)}return{weekDays:n,weekID:t}}function d(e){var t=e.getDay(),a=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(a))}function D(e){return f.find((function(t,a){if(a==e)return t}))}function h(e){return w.find((function(t,a){if(t.dayID==e)return t}))}var w=[{day:"Monday",dayID:1},{day:"Tuesday",dayID:2},{day:"Wednesday",dayID:3},{day:"Thursday",dayID:4},{day:"Friday",dayID:5},{day:"Saturday",dayID:6},{day:"Sunday",dayID:0}],I=[{userID:0,userName:"User 0"},{userID:1,userName:"User 1"},{userID:2,userName:"User 2"},{userID:3,userName:"User 3"},{userID:4,userName:"User 4"}],f=[{time:"08:00 - 08:30",id:0},{time:"08:30 - 09:00",id:1},{time:"09:00 - 09:30",id:2},{time:"09:30 - 10:00",id:3},{time:"10:00 - 10:30",id:4},{time:"10:30 - 11:00",id:5},{time:"11:00 - 11:30",id:6},{time:"11:30 - 12:00",id:7},{time:"12:00 - 12:30",id:8},{time:"12:30 - 13:00",id:9},{time:"13:00 - 13:30",id:10},{time:"13:30 - 14:00",id:11},{time:"14:00 - 14:30",id:12},{time:"14:30 - 15:00",id:13},{time:"15:00 - 15:30",id:14},{time:"15:30 - 16:00",id:15},{time:"16:00 - 16:30",id:16},{time:"16:30 - 17:00",id:17},{time:"17:00 - 17:30",id:18},{time:"17:30 - 18:00",id:19},{time:"18:00 - 18:30",id:20},{time:"18:30 - 19:00",id:21}],E=(a(16),[]);function k(){return E.filter((function(e){var t=e.appointment.date.getTime();if(!(t<(new Date).getTime()))return t})).slice().sort((function(e,t){var a=new Date(e.appointment.date).getTime();return new Date(t.appointment.date).getTime()-a})).slice().sort((function(e,t){return t.userID-e.userID})).sort((function(e,t){return e.weekID>t.weekID?1:-1}))}function g(e,t){var a=(new Date).getTime(),n=new Date(e).getTime();if(function(e,t){return e<=t}(n,a))return{className:"days-before",availabilityDescription:"",isAvailable:!1};if(function(e,t){var a=new Date(e);return a.getDate()%2===0&&t.id>11||!(a.getDate()%2===0)&&t.id<10}(e,t))return{className:"nonworking-hours",availabilityDescription:"",isAvailable:"nonworkingHours"};if(function(e){return 0===h(new Date(e).getDay()).dayID}(e))return{className:"nonworking-hours",availabilityDescription:"",isAvailable:"nonworkingHours"};if(function(e){var t=new Date(e);return 6===h(t.getDay()).dayID&&!(t.getDate()%2===0)}(e))return{className:"nonworking-hours",availabilityDescription:"",isAvailable:"nonworkingHours"};if(function(e){return 6===e.id||16===e.id}(t))return{className:"break",availabilityDescription:"BREAK",isAvailable:"break"};for(var r=0;r<E.length;r++){if(b(E[r].appointment.date.getTime(),n,E[r].appointment.timeId,t.id))return{className:"reserved",availabilityDescription:"RESERVED",isAvailable:"reserved"}}return{className:"free",availabilityDescription:"FREE",isAvailable:!0}}function b(e,t,a,n){return e===t&&a===n}function v(e){var t=e.weekStartWith,a=e.weekID;return n.createElement("tr",{style:P(!1)},p(t,a).weekDays.map((function(e,t){var a=new Date(e);return n.createElement("th",{className:"dates-style",key:t},a.getDate(),".",a.getMonth()+1,".")})))}function y(){return n.createElement("tr",{style:P(!1)},n.createElement("th",{rowSpan:2,className:"dates-hours-cell"}," HOURS / DATES "),w.map((function(e,t){return n.createElement("th",{className:"days-style",key:t},e.day)})))}E.push({userID:0,weekID:0,appointment:{id:0,timeId:11,date:new Date("Fri Jul 17 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:1,timeId:2,date:new Date("Sun Jul 18 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:2,timeId:12,date:new Date("Sat Jul 20 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:3,timeId:4,date:new Date("Sat Jul 20 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:4,timeId:11,date:new Date("Sat Jul 21 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:5,timeId:15,date:new Date("Sat Jul 21 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:6,timeId:5,date:new Date("Sat Jul 22 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:7,timeId:17,date:new Date("Sat Jul 23 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:8,timeId:1,date:new Date("Sat Jul 24 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:9,timeId:20,date:new Date("Sat Jul 27 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:10,timeId:5,date:new Date("Sat Jul 28 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:11,timeId:19,date:new Date("Sat Jul 29 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:12,timeId:17,date:new Date("Sat Jul 29 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:13,timeId:8,date:new Date("Sat Jul 30 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:14,timeId:7,date:new Date("Sat Jul 30 2020 00:00:00")}},{userID:0,weekID:0,appointment:{id:15,timeId:21,date:new Date("Sat Jul 31 2020 00:00:00")}});a(17);var N=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.chosenTime,r=e.createAppointment,i=e.cancel,s=new Date(t),l=s.getDate()+"."+(s.getMonth()+1)+"."+s.getFullYear()+"  "+a.time;return n.createElement("div",{className:"popup"},n.createElement("div",{className:"popup_inner popup_display"},n.createElement("h1",{className:"popup_h1"}," CREATE YOUR APPOINTMENT FOR "),n.createElement("h2",{className:"popup_h2"},l),n.createElement("div",{className:"popup_buttons"},n.createElement("button",{className:"popup_create_buttons",onClick:r},"CREATE"),n.createElement("button",{className:"popup_cancel_buttons",onClick:i},"CANCEL"))))}}]),a}(n.Component),A=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.chooseTime,a=e.weekStartWith,r=e.weekID,i=e.handleAppointments;return t.map((function(e){return n.createElement("tr",{key:e.id},n.createElement("td",{className:"time-style",style:P(!1)},e.time),p(a,r).weekDays.map((function(t,a){var r=g(t,e);return n.createElement("td",{"data-date-cell":t,"data-time-row":e.id,key:a,onClick:!0===r.isAvailable?i:null,className:r.className+" pointer text-align",style:P(r.isAvailable)},r.availabilityDescription)})))}))}}]),a}(n.Component),T=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selectChange,a=e.userID;return n.createElement("form",{className:"form-select-user"},n.createElement("label",{htmlFor:"user"},"Select user:"),n.createElement("select",{id:"user",className:"info-select",onChange:t,value:a},I.map((function(e,t){return n.createElement("option",{key:t,value:e.userID},e.userName)}))))}}]),a}(n.Component),O=a(6),S=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showAppointments:!1},n.toggleAppointmentsHandler=n.toggleAppointmentsHandler.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"toggleAppointmentsHandler",value:function(){this.setState({showAppointments:!this.state.showAppointments})}},{key:"render",value:function(){var e=this.props,t=e.sortedAppointments,a=e.userID,r=this.state.showAppointments,i=t.filter((function(e){return e.userID==a}));return 0===i.length?n.createElement("div",{className:"no-appointment-for-user"}," There is no appointment for selected user!!"):n.createElement("div",{className:"list-app-by-user"},n.createElement("button",{className:"btn-all-appointment",onClick:this.toggleAppointmentsHandler},n.createElement("span",null,"APPOINTMENT BY USER"),r?n.createElement("span",null,n.createElement(O.b,null)):n.createElement("span",null,n.createElement(O.a,null))),r?n.createElement("ul",null,i.map((function(e,t){var a=new Date(e.appointment.date),r=D(e.appointment.timeId),i=a.getDate()+"."+(a.getMonth()+1)+"."+a.getFullYear(),s=r.time;return 0===e.userID?n.createElement("li",{className:"appointment-date-time",key:t},n.createElement("span",{className:"index-span"},t+1,".  "),n.createElement("span",null,i),n.createElement("span",null,s)):n.createElement("li",{className:"appointment-date-time",key:t},n.createElement("span",{className:"index-span"},t+1,".  "),n.createElement("span",null," WEEK ",e.weekID,": "),n.createElement("span",null,i),n.createElement("span",null,s))}))):null)}}]),a}(n.Component),j=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.weekStartWith,a=e.weekID,r=e.changeWeek;return n.createElement("div",{className:"change-week-topbar"},n.createElement("button",{className:"btn-last-week","data-symbol":"minus","data-state-date":t,onClick:r},"Week before"),n.createElement("span",{className:"week-number"},"Week: ",a),n.createElement("button",{className:"btn-next-week","data-symbol":"plus","data-state-date":t,onClick:r},"Next week"))}}]),a}(n.Component),C=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showAppointments:!1},n.toggleAppointmentsHandler=n.toggleAppointmentsHandler.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"toggleAppointmentsHandler",value:function(){this.setState({showAppointments:!this.state.showAppointments})}},{key:"render",value:function(){var e=this.props.sortedAppointments,t=this.state.showAppointments;return 0===e.length?n.createElement("span",null,"THERE IS NO APPOINTMENT!!"):n.createElement("div",{className:"list-app-all"},n.createElement("button",{className:"btn-all-appointment",onClick:this.toggleAppointmentsHandler},n.createElement("span",null,"ALL APPOINTMENTS"),t?n.createElement("span",null,n.createElement(O.b,null)):n.createElement("span",null,n.createElement(O.a,null))),t?n.createElement("ol",null,e.map((function(e,t){var a=new Date(e.appointment.date),r=D(e.appointment.timeId),i=a.getDate()+"."+(a.getMonth()+1)+"."+a.getFullYear(),s=r.time;return n.createElement("li",{className:"appointment-date-time",key:t},n.createElement("span",{className:"index-span"},t+1,". "),n.createElement("span",null," WEEK ",e.weekID,": "),n.createElement("span",null,i),n.createElement("span",null,"  ",s))}))):null)}}]),a}(n.Component),M=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).selectedTimeID=0,n.selectedDate="",n.selectedTime=0,n.state={weekStartWith:new Date,appointments:E,weekID:0,userID:1,showPopup:!1},n.changeWeek=n.changeWeek.bind(Object(u.a)(n)),n.handleAppointments=n.handleAppointments.bind(Object(u.a)(n)),n.selectChange=n.selectChange.bind(Object(u.a)(n)),n.togglePopup=n.togglePopup.bind(Object(u.a)(n)),n.createAppointment=n.createAppointment.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"changeWeek",value:function(e){var t=this.state,a=t.weekID,n=t.weekStartWith,r=function(e,t,a){var n=t.getDate(),r=t.getMonth(),i=t.getFullYear();if("minus"===e){var s=new Date(i,r,n-7),l=new Date;return l.setHours(0,0,0,0),d(l).getTime()>s.getTime()?{beforeToday:!0,afterTwoMonths:!1,newStartDate:s,weekID:a}:{beforeToday:!1,afterTwoMonths:!1,newStartDate:s,weekID:a-=1}}if("plus"===e){var o=new Date(i,r,n+7),u=new Date,c=u.getMonth()+2;return d(new Date(u.getFullYear(),c,u.getDate())).getTime()<o.getTime()?{beforeToday:!1,afterTwoMonths:!0,newStartDate:o,weekID:a}:{beforeToday:!1,afterTwoMonths:!1,newStartDate:o,weekID:a+=1}}return{beforeToday:!1,afterTwoMonths:!0,newStartDate:new Date,weekID:a}}(e.target.getAttribute("data-symbol"),n,a);return r.beforeToday?alert("You cannot go in week before that we are today!"):r.afterTwoMonths?alert("You cannot go more than two months from today!"):void this.setState((function(){return{weekStartWith:r.newStartDate,weekID:r.weekID}}))}},{key:"handleAppointments",value:function(e){0!=this.state.userID?(this.selectedTimeID=e.target.getAttribute("data-time-row"),this.selectedDate=e.target.getAttribute("data-date-cell"),this.selectedTime=D(this.selectedTimeID),this.togglePopup()):alert("YOU CANNOT CREATE APPOINTMENT FOR THIS USER!")}},{key:"selectChange",value:function(e){var t=e.target.value;this.setState((function(e){return{userID:t}}))}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"createAppointment",value:function(){var e=this.state,t=e.weekID,a=e.userID;g(this.selectedDate,this.selectedTimeID).isAvailable&&(this.togglePopup(),function(e,t,a,n){var r=new Date(e);r.setHours(0,0,0,0);var i=0,s=0;E.filter((function(e){e.appointment.date.getTime()===r.getTime()&&e.userID===n?s++:e.weekID==a&&e.userID===n&&i++})),console.log(s,i),s>=1?alert("YOU CAN'T CREATE APPOINTMENT FOR THIS DAY ANYMORE"):i<2?E.push({userID:n,weekID:a,appointment:{id:E.length,timeId:t.id,date:new Date(e)}}):alert("YOU CAN'T CREATE APPOINTMENT FOR THIS WEEK ANYMORE")}(this.selectedDate,this.selectedTime,t,a),this.setState((function(e){return{appointments:E}})))}},{key:"render",value:function(){var e=this.state,t=e.weekID,a=e.weekStartWith,n=e.showPopup,i=e.userID;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"calendar"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement(y,null),r.a.createElement(v,{weekStartWith:a,weekID:t})),r.a.createElement("tbody",null,r.a.createElement(A,{chooseTime:f,weekStartWith:a,weekID:t,handleAppointments:this.handleAppointments})))),r.a.createElement("div",{className:"info-div"},r.a.createElement(j,{changeWeek:this.changeWeek,weekID:t,weekStartWith:a}),r.a.createElement(T,{selectChange:this.selectChange,userID:i}),r.a.createElement("div",{className:"list-appointment"},r.a.createElement(S,{sortedAppointments:k(),userID:i}),r.a.createElement(C,{sortedAppointments:k(),userID:i})),n?r.a.createElement(N,{date:this.selectedDate,chosenTime:this.selectedTime,createAppointment:this.createAppointment,cancel:this.togglePopup}):null))}}]),a}(n.Component);function P(e){return!0===e?{cursor:"pointer"}:"reserved"===e||"break"===e?{cursor:"no-drop"}:{cursor:"default"}}var W=function(){return r.a.createElement(M,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.a22f0bfb.chunk.js.map